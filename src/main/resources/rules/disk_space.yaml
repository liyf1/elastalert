# Rule name, must be unique
name: Alert on John Doe

# Type of alert.
type: any

realert:
  seconds: 300

num_events: 5
timeframe: 1m

run_every:
  seconds: 5

# Index to search, wildcard supported
index: logs
timestamp_field: timestamp

# A list of elasticsearch filters used for find events
filter:
  - query:
      query_string:
        query: "level:\"error\""

include:
  - timestamp
  - level
  - message

#alert_subject: "Alert: John Doe detected"
#alert_subject_args:
#  - name
#
#alert_text_type: alert_text_only
alert_text: "{message}"
alert_text_args:
  - message
# 告警配置
alert:
  - type: dingding
    webhook_url: "https://oapi.dingtalk.com/robot/send?access_token=faceed14e64ed2243a7abd5cd3b5aa6e6e1405a1109664aff150e0eb5bdc1f04"
    dingding_users:
      - "李一凡"
      - "王世优"